{
  "info": {
    "name": "HSD Arena API",
    "description": "Quiz platform API collection",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Admin Login",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"email\": \"admin@example.com\",\n  \"password\": \"Admin123!\"\n}"
        },
        "url": {
          "raw": "http://localhost:8082/api/auth/login",
          "protocol": "http",
          "host": ["localhost"],
          "port": "8082",
          "path": ["api", "auth", "login"]
        }
      }
    },
    {
      "name": "Create Quiz",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          },
          {
            "key": "Authorization",
            "value": "Bearer {{adminToken}}"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"title\": \"Test Quiz\",\n  \"settings\": { \"bonusMax\": 50 },\n  \"questions\": [\n    {\n      \"index\": 1,\n      \"text\": \"2+2 kaçtır?\",\n      \"type\": \"MCQ\",\n      \"choices\": [\n        { \"id\": \"A\", \"text\": \"3\" },\n        { \"id\": \"B\", \"text\": \"4\" }\n      ],\n      \"correctAnswer\": { \"id\": \"B\" },\n      \"timeLimitSec\": 20,\n      \"points\": 100\n    }\n  ]\n}"
        },
        "url": {
          "raw": "http://localhost:8082/api/quiz/create",
          "protocol": "http",
          "host": ["localhost"],
          "port": "8082",
          "path": ["api", "quiz", "create"]
        }
      }
    },
    {
      "name": "Start Session",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          },
          {
            "key": "Authorization",
            "value": "Bearer {{adminToken}}"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{}"
        },
        "url": {
          "raw": "http://localhost:8082/api/quiz/{{quizId}}/session",
          "protocol": "http",
          "host": ["localhost"],
          "port": "8082",
          "path": ["api", "quiz", "{{quizId}}", "session"]
        }
      }
    },
    {
      "name": "Team Join",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"sessionCode\": \"{{sessionCode}}\",\n  \"teamName\": \"Red Dragons\"\n}"
        },
        "url": {
          "raw": "http://localhost:8082/api/team/join",
          "protocol": "http",
          "host": ["localhost"],
          "port": "8082",
          "path": ["api", "team", "join"]
        }
      }
    },
    {
      "name": "Submit Answer",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          },
          {
            "key": "Authorization",
            "value": "Bearer {{teamToken}}"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"sessionId\": \"{{sessionId}}\",\n  \"questionId\": \"{{questionId}}\",\n  \"answerPayload\": { \"id\": \"B\" },\n  \"nonce\": \"client-123\"\n}"
        },
        "url": {
          "raw": "http://localhost:8082/api/answer",
          "protocol": "http",
          "host": ["localhost"],
          "port": "8082",
          "path": ["api", "answer"]
        }
      }
    }
  ],
  "variable": [
    {
      "key": "adminToken",
      "value": ""
    },
    {
      "key": "quizId",
      "value": ""
    },
    {
      "key": "sessionId",
      "value": ""
    },
    {
      "key": "sessionCode",
      "value": ""
    },
    {
      "key": "teamToken",
      "value": ""
    },
    {
      "key": "questionId",
      "value": ""
    }
  ]
}
